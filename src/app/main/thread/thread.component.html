<ng-container *ngIf="!!thread">
    <div>
        <button class="btn btn-outline-secondary shadow-sm my-2" [routerLink]="['/']">Home</button>
        <button class="btn btn-outline-secondary shadow-sm my-2 ml-2"
            [routerLink]="['/section/', thread.section._id]">{{thread.section.title}}</button>
    </div>
    <div class="border shadow mb-3 p-3">
        <div class="float-right">{{thread.createdAt | date:'medium'}}</div>
        <h1 class="pl-3 border-bottom text-break">{{thread.title}}</h1>
        <div class="text-center">by <a [routerLink]="['/profile/', thread.author._id]">{{thread.author.username}}</a>
        </div>
        <div class="p-2" [innerHTML]="thread.content"></div>
        <div class="text-right">
            {{thread.createdAt == thread.updatedAt ? '' :thread.updatedAt | date:'yyyy-mm-dd HH:mm'}}</div>
    </div>
    <ng-container *ngFor="let reply of replies | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">
        <div class="border shadow-sm rounded my-2 p-2">
            <div class="row font-italic small">
                <div class="col text-left"><a
                        [routerLink]="['/profile/', reply.author._id]">{{reply.author.username}}</a>:
                </div>
                <div class="col text-right">{{reply.createdAt | date:'yyyy-M-dd HH:mm' }}</div>
            </div>
            <div class="p-2" [innerHTML]="reply.content"></div>
            <div class="text-right">{{reply.createdAt == reply.updatedAt ? '' :reply.updatedAt | date:'short'}}</div>
        </div>
    </ng-container>
    <ngb-pagination *ngIf="!!replies" [(page)]="page" [pageSize]="pageSize" [collectionSize]="replies.length">
    </ngb-pagination>
    <forum-post *ngIf="auth.isAuthenticated" type="reply" id="{{thread._id}}" (reply)="postReply($event)"></forum-post>
</ng-container>